<mat-card class="message-box">
    <div class="text-design-function-area">
        Text-Design-Funktionen
        <button mat-flat-button color="none" class="icon-button" (click)="enableDisableRule()" matTooltip="Code" matTooltipPosition="above"
            [ngClass]="{'light-grey' : toggle, 'grey': !toggle}">
            <mat-icon>code</mat-icon>
        </button>

        <button mat-raised-button (click)="openImgUpload()" matTooltip="Foto hinzufÃ¼gen" matTooltipPosition="above" class="icon-button">
            <mat-icon>attach_file</mat-icon>
        </button>

    </div>
    <div>
        <mat-form-field *ngIf="!codeBlock" appearance="fill" class="text-area">
            <mat-label>Nachrichten senden...</mat-label>
            <textarea [(ngModel)]="message.textMessage" matInput cdkTextareaAutosize
                #autosize="cdkTextareaAutosize" cdkAutosizeMinRows="1" cdkAutosizeMaxRows="10"></textarea>
        </mat-form-field>
        <form [ngClass]="{'d-none' : !codeBlock}" [formGroup]="form">
            <div class="code-container line-numbers">
                <textarea #textArea placeholder="Add your code (default html)" class="text-area-code-editor"
                    formControlName="content" spellcheck="false">
              <img #placeForImgInMessageBox src="">
            </textarea>
                <pre aria-hidden="true" class="pre line-numbers" #pre><code [ngClass]="['code', 'language-' + codeType]" #codeContent></code>
            </pre>
            </div>
        </form>
    </div>
    <div class="text-design-function-area">
        <div class="img-container">
            <img #img src="{{imgURL}}">
        </div>
        <button [disabled]="message.textMessage == '' && !imgUploaded" mat-flat-button class="send-icon-button" (click)="sendMessage()">
            <mat-icon>send</mat-icon>
        </button>
    </div>
</mat-card>